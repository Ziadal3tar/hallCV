<section id='booking' class=" w-100 row d-flex align-items-center justify-content-center bg-light m-0 ">

  <form [formGroup]="reservationForm" (ngSubmit)="reservation()"
    class=" col-md-6 col-8 h-auto bg-black bg-opacity-75 rounded-3 position-relative p-3 row" style="box-shadow: 0px 0px 10px 5px rgba(0, 0, 0, 0.2);
  ">


    <div class="  col-12 col-md-6 my-2">
      <input type="text" class=" w-100 rounded-0 p-2 pe-3" formControlName="AdministrationName"
        placeholder="{{'booking.AdministrationName' | translate}}">
      <div class="text-danger"
        *ngIf="reservationForm.get('AdministrationName')?.errors !==null && reservationForm.get('AdministrationName')?.touched">
        <p *ngIf="reservationForm.get('AdministrationName')?.errors?.['required'] ">Administration Name is required</p>

        <p *ngIf="reservationForm.get('AdministrationName')?.errors?.['minlength'] ">Administration Name min char is 4
        </p>
      </div>
    </div>


    <div class=" col-12 col-md-6 my-2">
      <input type="number" class=" w-100 rounded-0 p-2 pe-3" [ngClass]="{'disabled': reservationForm.value.hallId == null}" formControlName="members"
        placeholder=" {{'booking.NumberOfMembers' | translate}}">
        <div class="text-danger"
        *ngIf="reservationForm.get('members')?.errors !==null && reservationForm.get('members')?.touched">
        <p *ngIf="reservationForm.get('members')?.errors?.['required'] ">members is required</p>

        <p *ngIf="reservationForm.get('members')?.errors?.['min'] ">minimum persons is 1</p>
        <p *ngIf="reservationForm.get('members')?.errors?.['max'] ">maximum persons is {{hallAttendees}}</p>
      </div>
    </div>


    <div class=" col-12 col-md-4  my-2">
      <label class="m-2 mainColor" for="date">{{'booking.date' | translate}}</label>
      <input id="date" type="date" class=" w-100 rounded-0 p-2" formControlName="date"
        placeholder="{{'booking.date' | translate}}">
    </div>




    <div class=" col-12 col-md-4 my-2 d-flex align-items-end">


      <select class="rounded-0 w-100 p-2 " formControlName="hallId" (change)="setMember()">
        <option [ngValue]="null" disabled>{{'booking.hall' | translate}}
        </option>
        <option *ngFor="let hall of allHalls" value="{{hall?._id}}">{{hall?.hallName}} </option>



      </select>
    </div>




    <div class=" col-12 col-md-4 my-2 d-flex align-items-end ">


      <select class="rounded-0 w-100 p-2" formControlName="encounterType">
        <option [ngValue]="null" disabled>{{'booking.choose' | translate}} {{'booking.encounterType' | translate}}
        </option>
        <option value="{{'booking.program' | translate}}">{{'booking.program' | translate}}</option>
        <option value="{{'booking.encounter' | translate}}">{{'booking.encounter' | translate}}</option>
        <option value="{{'booking.meeting' | translate}}">{{'booking.meeting' | translate}}</option>
        <option value="{{'booking.Workshop' | translate}}">{{'booking.Workshop' | translate}}</option>
        <option value="{{'booking.other' | translate}}">{{'booking.other' | translate}}</option>
      </select>
    </div>


    <div class=" col-12 col-md-4 my-2">
      <label class=" mainColor" for="name">{{'booking.whatDoYouNeed' | translate}}
      </label>

      <select class="rounded-0 w-100 p-2" formControlName="whatDoYouNeed">
        <option [ngValue]="null" disabled>{{'booking.choose' | translate}}</option>
        <option value="{{'booking.Projector' | translate}}">{{'booking.Projector' | translate}}</option>
        <option value="{{'booking.displayScreen' | translate}}">{{'booking.displayScreen' | translate}}</option>
        <option value="{{'booking.tables' | translate}}">{{'booking.tables' | translate}}</option>

      </select>
    </div>

    <div class=" col-12 col-md-8 col-lg-6 row m-0  my-2 d-flex  align-items-end ">
      <div class="form-check col p-0 ps-1 mb-0">
        <input class="form-check-input d-none" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
        <label class="form-check-label btn bg-white rounded-0 w-100 rounded-0 p-2" for="flexRadioDefault1"
          (click)="time($event)">
          8am-12pm
        </label>
      </div>
      <div class="form-check col p-0 pe-1 mb-0">
        <input class="form-check-input d-none" type="radio" name="flexRadioDefault" id="flexRadioDefault2" checked>
        <label class="form-check-label btn bg-white rounded-0 w-100 rounded-0 p-2" for="flexRadioDefault2"
          (click)="time($event)">
          1pm-8pm
        </label>
      </div>
    </div>


    <div class=" col-12 col-lg-2 col-md-4 d-flex justify-content-end flex-column m-0 my-2">
      <input type="file" id="uploadeFile" class="d-none" (change)="upload($event)">

      <label class="btn bg-white p-2 rounded-0" for="uploadeFile"><i
          class="bi bi-file-earmark-arrow-up-fill  m-0"></i></label>
    </div>



    <div class=" col-12 row m-0 my-2">

      <button [disabled]="reservationForm.status == 'INVALID'"
        class=" btn mainBg  text-white  rounded-0 col-lg-5 col-md-7 col-10">CHECK AVAILABILITY</button>

      <div class=" d-flex align-items-center justify-content-start col-2 ">
        <input class=" m-0 w-auto ms-md-1 ms-0" type="checkbox" id="pdfCheck">
        <label class="fs-6 m-0 text-white" for="exampleCheck">pdf</label>
      </div>
    </div>

  </form>

</section>
<button class="btn btn-danger" (click)="pdf()">pdf</button>
<app-loading *ngIf="loading"></app-loading>
